@page "/"
@inherits RouteSetsBase

@using Radzen
@using Radzen.Blazor
@using ProLab.Shared.Couriers.Response

<PageTitle>Routes</PageTitle>

<RadzenText TextStyle="TextStyle.DisplayH3">Routes</RadzenText>

<RadzenRow class="rz-min-h-100">
    <RadzenColumn Size="8">
        <Map @ref="Map" MapOptions="@DefaultMapOptions" />
    </RadzenColumn>

    <RadzenColumn Size="4">
        <RadzenDataGrid @ref="Grid"
                        TItem="GetCourierListResponse.ItemData"
                        IsLoading=@IsLoading
                        Count="@Count"
                        Data="@Items"
                        LoadData="@LoadData"
                        AllowPaging="true"
                        PageSize="@PageSize"
                        PagerHorizontalAlign="HorizontalAlign.Center"
                        SelectionMode="DataGridSelectionMode.Single"
                        RowSelect="@(args => OnRowSelect(args))">
            <EmptyTemplate>
                <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.Center" class="rz-m-8">No records to display.</RadzenText>
            </EmptyTemplate>
            <Columns>
                <RadzenDataGridColumn Property="@nameof(GetCourierListResponse.ItemData.Id)" Title="ID" />
                <RadzenDataGridColumn Property="@nameof(GetCourierListResponse.ItemData.FirstName)" Title="First name" />
                <RadzenDataGridColumn Property="@nameof(GetCourierListResponse.ItemData.LastName)" Title="Last Name" />
            </Columns>
        </RadzenDataGrid>
    </RadzenColumn>
</RadzenRow>

<style>
    #mapId {
        height: 100%;
        width: 100%;
    }
</style>